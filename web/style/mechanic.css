:root {
  --neon:         #00ffd0;
  --neon-fade:    rgba(0,255,208,0.15);
  --warn:         #ffb200;
  --critical:     #ff0055;
  --bg-deep:      #000;
  --bg-dark:      #111;
  --text-light:   #e0e0e0;
  --card-bg:      #1a1a1a;
  --radius:       8px;
  --transition:   0.3s ease;
}

/* Reset & Base */
html, body {
  margin:0; padding:0;
  width:100%; /* حذف height:100%; */
  /* background: var(--bg-deep); */
  font-family:'Vazirmatn',sans-serif;
  color: var(--text-light);
  /* overflow:hidden; */ /* این خط را موقتاً کامنت کن */
}

/* مخفی کردن کل محتوا در ابتدا */
body:not(.show-ui) .frame-container,
body:not(.show-ui) .lang-selector {
  display: none !important;
}

/* فقط زمانی که .show-ui روی body باشد، UI نمایش داده شود */
body.show-ui .frame-container,
body.show-ui .lang-selector {
  display: block;
}

/* وقتی دسکتاپ یا مینی‌گیم باز است، فقط UI مکانیک مخفی شود (نه کل body) */
body.desktop-open .frame-container,
body.desktop-open .lang-selector {
  display: none !important;
}

/* Lang Selector */
.lang-selector {
  position:absolute; top:1%; right:2%;
}
.lang-selector select {
  background: var(--bg-dark);
  color: var(--neon);
  border: 1px solid var(--neon);
  padding: .3rem;
  border-radius: var(--radius);
}

/* Frame & Container */
.frame-container {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100vw;
  height: 100vh;
  background: transparent !important; /* اطراف تبلت شفاف شود */
}
.device-wrapper {
  position:relative;
  width:min(100vw,calc(100vh*(1600/1094)));
  aspect-ratio:1600/1094;
  background: url('../assets/images/tablet-frame.png') center/contain no-repeat;
}
.screen-content {
  position:absolute; inset:10% 7% 10% 11%;
  background: var(--bg-dark);
  box-shadow: inset 0 0 25px var(--neon);
  border-radius: calc(var(--radius)*1.5);
  padding:1.5%; display:flex; flex-direction:column;
  overflow:hidden;
}

/* Tab Bar */
.tab-bar {
  display:flex; gap:.5rem; margin-bottom:1rem;
}
.tab-btn {
  flex:1; background:transparent;
  border:1px solid var(--neon);
  border-radius:var(--radius); padding:.6rem;
  text-align:center; font-weight:bold;
  color: var(--neon); cursor:pointer;
  position:relative;
  transition: background var(--transition), color var(--transition);
}
.tab-btn::after {
  content:''; position:absolute;
  bottom:-2px; left:20%; width:60%; height:3px;
  background:var(--neon); border-radius:2px;
  transform:scaleX(0); transition:transform var(--transition);
}
.tab-btn.active, .tab-btn:hover {
  background:var(--neon-fade); color:#fff;
}
.tab-btn.active::after {
  transform:scaleX(1);
}

/* Panels */
.tab-content {
  flex:1; overflow-y:auto; scroll-behavior:smooth;
}
.tab-content::-webkit-scrollbar {
  width:6px; background:rgba(0,0,0,0.2);
}
.tab-content::-webkit-scrollbar-thumb {
  background:var(--neon); border-radius:3px;
}
.panel {
  display:flex; flex-direction:column; gap:1rem;
  margin-bottom:1rem; opacity:0;
  animation: fadeIn var(--transition) forwards;
}
.hidden { display:none; }

/* Summary Cards */
.summary-cards {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(100px,1fr));
  gap:1rem; margin-bottom:1rem;
}
.card {
  position:relative;
  background:var(--card-bg);
  border:1px solid var(--neon);
  border-radius:var(--radius);
  padding:.8rem;
  display:flex; flex-direction:column; align-items:center;
  box-shadow:0 4px 12px rgba(0,0,0,0.5);
  transition: transform var(--transition), box-shadow var(--transition);
}
.card.inactive { opacity:.4; }
.card:hover {
  transform:translateY(-4px);
  box-shadow:0 8px 20px var(--neon);
}
.card-label {
  margin-top:.5rem; font-size:.9rem;
}

/* Action Buttons */
.action-btn {
  margin-top:.5rem;
  border:none; padding:.3rem .6rem;
  font-size:.8rem; cursor:pointer;
  border-radius:4px;
  transition: background var(--transition), transform var(--transition);
}
.action-btn.repair {
  background: var(--warn); color:#000;
}
.action-btn.install {
  background: #4CAF50; color:#000;
}
.action-btn:hover {
  transform:scale(1.05);
}

/* Gauge */
.gauge {
  position:relative; width:80px; height:80px;
  animation: pulse 2s infinite ease-in-out alternate;
}
@keyframes pulse {
  from { box-shadow:0 0 6px var(--neon); }
  to   { box-shadow:0 0 12px var(--neon); }
}
.gauge-fill {
  --fill:0%;
  width:100%; height:100%; border-radius:50%;
  background:conic-gradient(var(--neon) var(--fill), rgba(255,255,255,0.05)0);
  transform:rotate(-90deg);
  transition:--fill .8s ease-in-out;
}
.gauge-cover {
  position:absolute; top:50%; left:50%;
  width:52px; height:52px; background:var(--bg-dark);
  border-radius:50%;
  transform:translate(-50%,-50%);
  display:flex; align-items:center; justify-content:center;
  font-size:1rem; font-weight:bold;
  color:var(--neon); text-shadow:0 0 4px var(--neon);
}

/* Detail Grid */
.detail-grid {
  display:grid; grid-template-columns:1fr 1fr;
  gap:.8rem; background:rgba(0,0,0,0.3);
  padding:.8rem; border-radius:6px; font-size:.9rem;
}
.detail-grid div {
  padding:.4rem .6rem; border-radius:4px;
  transition: background var(--transition), box-shadow var(--transition);
}
.detail-grid div:hover {
  background: var(--neon-fade);
  box-shadow: inset 0 0 6px var(--neon);
}
.detail-grid strong {
  color: var(--neon);
}

/* Animations */
@keyframes fadeIn { to{ opacity:1; } }
